{"ast":null,"code":"import _regeneratorRuntime from \"/var/www/html/reactjs/OrgManage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/var/www/html/reactjs/OrgManage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/var/www/html/reactjs/OrgManage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/var/www/html/reactjs/OrgManage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/reactjs/OrgManage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/var/www/html/reactjs/OrgManage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/var/www/html/reactjs/OrgManage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/var/www/html/reactjs/OrgManage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/var/www/html/reactjs/OrgManage/src/components/Login/Login.jsx\";\nimport React, { Component, useReducer } from \"react\";\nimport { Button, FormGroup, TextField, Checkbox, FormControlLabel, Slide } from \"@material-ui/core\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { Link } from \"react-router-dom\";\nimport \"assets/css/login.css\";\nimport logo from \"assets/img/wLogo.png\";\nimport { basePath, baseRoutes } from \"base-routes\";\nimport { FormErrors } from \"./FormErrors\";\nimport fetch from \"isomorphic-fetch\";\nimport { store } from \"react-notifications-component\";\nimport { userService } from \"_services/user.service\";\nimport enMsg from \"__helpers/locale/en/en\";\nimport { clientTokenHeader } from \"__helpers/auth-header\";\nimport { connect } from \"react-redux\";\nimport { userdata as _userdata, authData as _authData, reduxLoad as _reduxLoad } from \"../../js/actions/index\";\nimport { DATA_LOADING } from \"__helpers/constants\";\nimport { USER_INFO, EMAIL_REGEX, MAX_PASSWORD_LENGTH } from \"__helpers/constants\";\nimport { accessToken } from \"__helpers/utils\";\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    userdata: function userdata(userdataVal) {\n      return dispatch(_userdata(userdataVal));\n    },\n    authData: function authData(authDataVal) {\n      return dispatch(_authData(authDataVal));\n    },\n    reduxLoad: function reduxLoad(reduxLoadVal) {\n      return dispatch(_reduxLoad(reduxLoadVal));\n    }\n  };\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    userdataCal: state.userdata,\n    reduxLoadFlag: state.reduxLoadFlag\n  };\n};\n\nvar LoginClass = /*#__PURE__*/function (_Component) {\n  _inherits(LoginClass, _Component);\n\n  var _super = _createSuper(LoginClass);\n\n  function LoginClass(props) {\n    var _this;\n\n    _classCallCheck(this, LoginClass);\n\n    _this = _super.call(this, props);\n\n    _this.handleUserInput = function (e) {\n      var name = e.target.name;\n      var value = e.target.value;\n\n      _this.setState(_defineProperty({}, name, value), function () {\n        _this.validateField(name, value);\n      });\n    };\n\n    _this.componentDidMount = function () {\n      var spinner = document.getElementById('loadingSpinner');\n\n      if (spinner && !spinner.hasAttribute('hidden')) {\n        spinner.setAttribute('hidden', 'true');\n      }\n\n      document.title = 'Login'; // add username and password in redux\n\n      if (!_this.state.userdataCal || !_this.state.userdataCal.userName) {\n        var data = {\n          userName: \"hruday@gmail.com\",\n          name: \"Admin\",\n          age: 25,\n          phoneNo: \"9876543210\",\n          gender: \"male\",\n          password: btoa(\"hruday123\")\n        };\n\n        _this.props.userdata(data);\n\n        _this.setState({\n          userdataCal: data\n        });\n      }\n    };\n\n    _this.changePasswordType = function (e) {\n      var passwordType = _this.state.passwordType == \"password\" ? \"text\" : \"password\";\n\n      _this.setState({\n        passwordType: passwordType\n      });\n    };\n\n    userService.logout();\n\n    var _spinner = document.getElementById('loadingSpinner');\n\n    _this.state = {\n      email: \"\",\n      username: \"\",\n      password: \"\",\n      formErrors: {\n        email: \"\",\n        password: \"\"\n      },\n      emailValid: false,\n      passwordValid: false,\n      formValid: false,\n      loading: false,\n      isRemember: false,\n      passwordType: \"password\",\n      reduxLoadFlag: false,\n      spinner: _spinner,\n      userdataCal: _this.props.userdataCal\n    };\n    _this.clientAuthToken = null;\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(LoginClass, [{\n    key: \"validateField\",\n    value: function validateField(fieldName, value) {\n      var fieldValidationErrors = this.state.formErrors;\n      var emailValid = this.state.emailValid;\n      var passwordValid = this.state.passwordValid;\n      console.log(fieldName, value);\n\n      switch (fieldName) {\n        case \"email\":\n          if (value.trim().length == 0) {\n            emailValid = false;\n            fieldValidationErrors.email = enMsg.emailRequiredMsg;\n          } else if (!value.trim().match(EMAIL_REGEX)) {\n            emailValid = false;\n            fieldValidationErrors.email = enMsg.inValidUser;\n          } else {\n            emailValid = true;\n            fieldValidationErrors.email = '';\n          }\n\n          break;\n\n        case \"password\":\n          var error = \"\";\n          passwordValid = true;\n\n          if (!value.trim().length) {\n            passwordValid = false;\n            error = enMsg.passwordRequired;\n          } else if (value.length < 2) {\n            passwordValid = false;\n            error = enMsg.passwordSort;\n          }\n\n          fieldValidationErrors.password = error;\n          break;\n\n        default:\n          emailValid = true;\n          passwordValid = true;\n          break;\n      }\n\n      this.setState({\n        formErrors: fieldValidationErrors,\n        emailValid: emailValid,\n        passwordValid: passwordValid\n      }, this.validateForm);\n    }\n  }, {\n    key: \"validateForm\",\n    value: function validateForm() {\n      return this.state.emailValid && this.state.passwordValid;\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function () {\n      var _handleSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n        var data, showNotification, userDetail, accessTokenGen, user;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.props.reduxLoad(false);\n                this.setState({\n                  loading: true\n                });\n                event.preventDefault();\n                data = {\n                  userName: this.state.email,\n                  password: btoa(this.state.password)\n                };\n                showNotification = {};\n                console.log(data, this.props.userdataCal);\n                userDetail = this.props.userdataCal;\n\n                if (data.userName == userDetail.userName && data.password == userDetail.password) {\n                  accessTokenGen = btoa(btoa(data.userName) + btoa(data.password));\n                  user = {\n                    accessToken: accessTokenGen,\n                    userRole: \"ADMIN\",\n                    userName: this.state.email\n                  };\n                  this.props.authData(user);\n                  showNotification = {\n                    title: enMsg.loginFailedTitle,\n                    message: \"Login successfully.\",\n                    type: \"success\"\n                  };\n                  window.location.replace(baseRoutes.dashboard.path);\n                } else {\n                  showNotification = {\n                    title: enMsg.loginFailedTitle,\n                    message: \"Invalid credentials, please refer read me file for login credentials.\",\n                    type: \"danger\"\n                  };\n                }\n\n                this.setState({\n                  loading: false\n                });\n                userService.showNotification(showNotification);\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function handleSubmit(_x) {\n        return _handleSubmit.apply(this, arguments);\n      }\n\n      return handleSubmit;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"login-outer-cover box Dashboard-wrapper-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"login-cover Dashboard-wrapper-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"logo-content loginLogoMain\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"loginLogoInner\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        height: \"150px\",\n        src: logo,\n        alt: \"logo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"login-inner-cover\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"login-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        noValidate: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        label: \"Email Address *\",\n        type: \"email\",\n        name: \"email\",\n        \"data-validators\": \"isRequired,isAlpha\",\n        onChange: function onChange(event) {\n          return _this2.handleUserInput(event);\n        },\n        value: this.state.email,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(FormErrors, {\n        show: !this.state.emailValid,\n        formErrors: this.state.formErrors,\n        fieldName: \"email\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(FormGroup, {\n        className: \"possword-input\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        label: \"Password *\",\n        type: this.state.passwordType,\n        name: \"password\",\n        \"data-validators\": \"isRequired,isAlpha\",\n        onChange: function onChange(event) {\n          return _this2.handleUserInput(event);\n        },\n        value: this.state.password,\n        inputProps: {\n          maxLength: MAX_PASSWORD_LENGTH\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(FormErrors, {\n        show: !this.state.passwordValid,\n        formErrors: this.state.formErrors,\n        fieldName: \"password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"action-btns\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        color: \"primary\",\n        className: this.state.loading ? \"buttonSuccess btn1\" : \"btn1\",\n        disabled: this.state.loading || !this.validateForm(),\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 21\n        }\n      }, \"Login\", this.state.loading && /*#__PURE__*/React.createElement(CircularProgress, {\n        size: 24,\n        className: \"buttonProgress\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 25\n        }\n      })))))))));\n    }\n  }]);\n\n  return LoginClass;\n}(Component);\n\nexport var Login = connect(mapStateToProps, mapDispatchToProps)(LoginClass);\nexport default Login;","map":{"version":3,"sources":["/var/www/html/reactjs/OrgManage/src/components/Login/Login.jsx"],"names":["React","Component","useReducer","Button","FormGroup","TextField","Checkbox","FormControlLabel","Slide","CircularProgress","Link","logo","basePath","baseRoutes","FormErrors","fetch","store","userService","enMsg","clientTokenHeader","connect","userdata","authData","reduxLoad","DATA_LOADING","USER_INFO","EMAIL_REGEX","MAX_PASSWORD_LENGTH","accessToken","mapDispatchToProps","dispatch","userdataVal","authDataVal","reduxLoadVal","mapStateToProps","state","userdataCal","reduxLoadFlag","LoginClass","props","handleUserInput","e","name","target","value","setState","validateField","componentDidMount","spinner","document","getElementById","hasAttribute","setAttribute","title","userName","data","age","phoneNo","gender","password","btoa","changePasswordType","passwordType","logout","email","username","formErrors","emailValid","passwordValid","formValid","loading","isRemember","clientAuthToken","handleSubmit","bind","fieldName","fieldValidationErrors","console","log","trim","length","emailRequiredMsg","match","inValidUser","error","passwordRequired","passwordSort","validateForm","event","preventDefault","showNotification","userDetail","accessTokenGen","user","userRole","loginFailedTitle","message","type","window","location","replace","dashboard","path","maxLength","Login"],"mappings":"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","sourcesContent":["import React, { Component, useReducer } from \"react\";\nimport { Button, FormGroup, TextField, Checkbox, FormControlLabel, Slide } from \"@material-ui/core\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { Link } from \"react-router-dom\";\nimport \"assets/css/login.css\";\nimport logo from \"assets/img/wLogo.png\";\nimport { basePath, baseRoutes } from \"base-routes\";\nimport { FormErrors } from \"./FormErrors\";\nimport fetch from \"isomorphic-fetch\";\nimport { store } from \"react-notifications-component\";\nimport { userService } from \"_services/user.service\";\nimport enMsg from \"__helpers/locale/en/en\";\nimport { clientTokenHeader } from \"__helpers/auth-header\";\nimport { connect } from \"react-redux\";\nimport {\n  userdata, authData,\n  reduxLoad,\n} from \"../../js/actions/index\";\nimport { DATA_LOADING } from \"__helpers/constants\";\nimport { USER_INFO, EMAIL_REGEX, MAX_PASSWORD_LENGTH } from \"__helpers/constants\";\nimport { accessToken } from \"__helpers/utils\";\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    userdata: userdataVal => dispatch(userdata(userdataVal)),\n    authData: authDataVal => dispatch(authData(authDataVal)),\n    reduxLoad: reduxLoadVal => dispatch(reduxLoad(reduxLoadVal)),\n  };\n}\nconst mapStateToProps = state => {\n  return {\n    userdataCal: state.userdata,\n    reduxLoadFlag: state.reduxLoadFlag,\n  };\n};\nclass LoginClass extends Component {\n  constructor(props) {\n    super(props);\n    userService.logout();\n    let spinner = document.getElementById('loadingSpinner');\n    this.state = {\n      email: \"\",\n      username: \"\",\n      password: \"\",\n      formErrors: { email: \"\", password: \"\" },\n      emailValid: false,\n      passwordValid: false,\n      formValid: false,\n      loading: false,\n      isRemember: false,\n      passwordType: \"password\",\n      reduxLoadFlag: false,\n      spinner: spinner,\n      userdataCal: this.props.userdataCal,\n    };\n    this.clientAuthToken = null;\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleUserInput = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n    this.setState({ [name]: value }, () => {\n      this.validateField(name, value);\n    });\n  };\n  validateField(fieldName, value) {\n    let fieldValidationErrors = this.state.formErrors;\n    let emailValid = this.state.emailValid;\n    let passwordValid = this.state.passwordValid;\n    console.log(fieldName, value)\n    switch (fieldName) {\n      case \"email\":\n        if (value.trim().length == 0) {\n          emailValid = false;\n          fieldValidationErrors.email = enMsg.emailRequiredMsg;\n        }\n        else if (!value.trim().match(EMAIL_REGEX)) {\n          emailValid = false;\n          fieldValidationErrors.email = enMsg.inValidUser;\n        }\n        else {\n          emailValid = true;\n          fieldValidationErrors.email = '';\n        }\n        break;\n      case \"password\":\n        let error = \"\";\n        passwordValid = true;\n        if (!value.trim().length) {\n          passwordValid = false;\n          error = enMsg.passwordRequired;\n        } else if (value.length < 2) {\n          passwordValid = false;\n          error = enMsg.passwordSort;\n        }\n        fieldValidationErrors.password = error;\n        break;\n      default:\n        emailValid = true;\n        passwordValid = true;\n        break;\n    }\n    this.setState(\n      {\n        formErrors: fieldValidationErrors,\n        emailValid: emailValid,\n        passwordValid: passwordValid\n      },\n      this.validateForm\n    );\n  }\n  validateForm() {\n    return this.state.emailValid && this.state.passwordValid;\n  }\n  componentDidMount = () => {\n    const spinner = document.getElementById('loadingSpinner');\n    if (spinner && !spinner.hasAttribute('hidden')) {\n      spinner.setAttribute('hidden', 'true');\n    }\n    document.title = 'Login';\n    // add username and password in redux\n    if (!this.state.userdataCal || !this.state.userdataCal.userName) {\n      const data = {\n        userName: \"hruday@gmail.com\",\n        name: \"Admin\",\n        age: 25,\n        phoneNo: \"9876543210\",\n        gender: \"male\",\n        password: btoa(\"hruday123\")\n      }\n      this.props.userdata(data)\n      this.setState({\n        userdataCal: data,\n      })\n    }\n\n  };\n  async handleSubmit(event) {\n    this.props.reduxLoad(false);\n    this.setState({ loading: true });\n    event.preventDefault();\n    const data = {\n      userName: this.state.email,\n      password: btoa(this.state.password),\n    };\n    let showNotification = {};\n    console.log(data, this.props.userdataCal)\n    let userDetail = this.props.userdataCal;\n    if (data.userName == userDetail.userName && data.password == userDetail.password) {\n      let accessTokenGen = btoa(btoa(data.userName) + btoa(data.password))\n      let user = {\n        accessToken: accessTokenGen,\n        userRole: \"ADMIN\",\n        userName: this.state.email,\n      };\n      this.props.authData(user)\n      showNotification = {\n        title: enMsg.loginFailedTitle,\n        message: \"Login successfully.\",\n        type: \"success\"\n      };\n      window.location.replace(baseRoutes.dashboard.path);\n    } else {\n      showNotification = {\n        title: enMsg.loginFailedTitle,\n        message: \"Invalid credentials, please refer read me file for login credentials.\",\n        type: \"danger\"\n      };\n    }\n    this.setState({ loading: false });\n    userService.showNotification(showNotification)\n  }\n  changePasswordType = e => {\n    let passwordType = (this.state.passwordType == \"password\") ? \"text\" : \"password\";\n    this.setState({\n      passwordType: passwordType\n    });\n  }\n  render() {\n    return (\n      <div className=\"login-outer-cover box Dashboard-wrapper-1\">\n        <div className=\"login-cover Dashboard-wrapper-1\">\n          <div className=\"logo-content loginLogoMain\">\n            <div className=\"loginLogoInner\">\n              <img height=\"150px\" src={logo} alt=\"logo\" />\n            </div>\n          </div>\n          <div className=\"login-inner-cover\">\n            <div className=\"login-content\">\n              <div className=\"Login\">\n                <form onSubmit={this.handleSubmit} noValidate>\n                  <FormGroup>\n                    <TextField\n                      label=\"Email Address *\"\n                      type=\"email\"\n                      name=\"email\"\n                      data-validators=\"isRequired,isAlpha\"\n                      onChange={event => this.handleUserInput(event)}\n                      value={this.state.email}\n                    />\n                    <FormErrors\n                      show={!this.state.emailValid}\n                      formErrors={this.state.formErrors}\n                      fieldName=\"email\"\n                    />\n                  </FormGroup>\n                  <FormGroup className=\"possword-input\">\n                    <TextField\n                      label=\"Password *\"\n                      type={this.state.passwordType}\n                      name=\"password\"\n                      data-validators=\"isRequired,isAlpha\"\n                      onChange={event => this.handleUserInput(event)}\n                      value={this.state.password}\n                      inputProps={{ maxLength: MAX_PASSWORD_LENGTH }}\n                    />\n                    <FormErrors\n                      show={!this.state.passwordValid}\n                      formErrors={this.state.formErrors}\n                      fieldName=\"password\"\n                    />\n                  </FormGroup>\n                  <div className=\"action-btns\">\n                    <Button\n                      color=\"primary\"\n                      className={this.state.loading ? \"buttonSuccess btn1\" : \"btn1\"}\n                      disabled={this.state.loading || !this.validateForm()}\n                      type=\"submit\"\n                    >\n                      Login\n                      {this.state.loading && (\n                        <CircularProgress\n                          size={24}\n                          className=\"buttonProgress\"\n                        />\n                      )}\n                    </Button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport const Login = connect(\n  mapStateToProps, mapDispatchToProps\n)(LoginClass);\nexport default Login;"]},"metadata":{},"sourceType":"module"}