{"ast":null,"code":"import _objectWithoutProperties from \"/var/www/html/reactjs/ManagerWork/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"/var/www/html/reactjs/ManagerWork/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/reactjs/ManagerWork/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/var/www/html/reactjs/ManagerWork/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/var/www/html/reactjs/ManagerWork/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/var/www/html/reactjs/ManagerWork/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/var/www/html/reactjs/ManagerWork/src/layouts/Admin.jsx\";\nvar _excluded = [\"classes\", \"match\"];\n\n/*!\n\n=========================================================\n* Material Dashboard React - v1.7.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\n* Licensed under MIT (https://github.com/creativetimofficial/material-dashboard-react/blob/master/LICENSE.md)\n\n* Coded by Creative Tim\n\n=========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n*/\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Switch, Route, Redirect } from \"react-router-dom\"; // creates a beautiful scrollbar\n\nimport PerfectScrollbar from \"perfect-scrollbar\";\nimport \"perfect-scrollbar/css/perfect-scrollbar.css\"; // @material-ui/core components\n\nimport withStyles from \"@material-ui/core/styles/withStyles\"; // core components\n\nimport Navbar from \"components/Navbars/Navbar.jsx\";\nimport Sidebar from \"components/Sidebar/Sidebar.jsx\";\nimport routes from \"admin-routes.js\";\nimport { projectAssets } from \"base-routes.js\";\nimport dashboardStyle from \"assets/jss/material-dashboard-react/layouts/dashboardStyle.jsx\";\nimport { DEFAULT_PROFILE_IMG, NO_USERNAME } from \"__helpers/constants\";\nimport \"react-notifications-component/dist/theme.css\";\nimport ReactNotification from \"react-notifications-component\";\nimport { userService } from \"_services/user.service\";\nimport moment from \"moment\";\n\nvar Dashboard = /*#__PURE__*/function (_React$Component) {\n  _inherits(Dashboard, _React$Component);\n\n  var _super = _createSuper(Dashboard);\n\n  function Dashboard(props) {\n    var _this;\n\n    _classCallCheck(this, Dashboard);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      image: projectAssets.blur_image,\n      color: \"blue\",\n      hasImage: true,\n      fixedClasses: \"dropdown show\",\n      mobileOpen: false,\n      loggedIn: false\n    };\n    _this.adminRoutes = {};\n\n    _this.saveDataToLocalStorage = function (storageName) {};\n\n    _this.updateUserInfo = function (userDetail) {\n      var username = NO_USERNAME;\n      var profileImage = DEFAULT_PROFILE_IMG;\n\n      if (!userDetail) {\n        var _userDetail2 = JSON.parse(localStorage.getItem(\"userDetail\"));\n\n        username = _userDetail2 && _userDetail2.firstName ? \"\".concat(_userDetail2.firstName, \" \").concat(_userDetail2.lastName) : NO_USERNAME;\n\n        if (_userDetail2.imageRef) {\n          profileImage = _userDetail2.imageRef;\n        }\n      } else {\n        if (userDetail && userDetail.profileImage) {\n          profileImage = userDetail.profileImage;\n        }\n\n        username = userDetail && userDetail.firstName ? \"\".concat(userDetail.firstName, \" \").concat(userDetail.lastName) : NO_USERNAME;\n      } // this.setState({\n      //   profileImage: userDetail.imageRef\n      // });\n      // console.log(userDetail);\n\n\n      _this.setState({\n        userDetail: {\n          profileImage: profileImage,\n          username: username\n        }\n      });\n    };\n\n    _this.sendAdnetworkData = function (selectedAdnetwork) {\n      console.log(selectedAdnetwork);\n    };\n\n    _this.mainPanel = React.createRef();\n\n    _this.handleImageClick = function (image) {\n      _this._isMounted && _this.setState({\n        image: image\n      });\n    };\n\n    _this.handleColorClick = function (color) {\n      _this.setState({\n        color: color\n      });\n    };\n\n    _this.handleFixedClick = function () {\n      if (_this.state.fixedClasses === \"dropdown\") {\n        _this._isMounted && _this.setState({\n          fixedClasses: \"dropdown show\"\n        });\n      } else {\n        _this._isMounted && _this.setState({\n          fixedClasses: \"dropdown\"\n        });\n      }\n    };\n\n    _this.handleDrawerToggle = function () {\n      _this.setState({\n        mobileOpen: !_this.state.mobileOpen\n      });\n    };\n\n    _this.resizeFunction = function () {\n      if (window.innerWidth >= 960) {\n        _this.setState({\n          mobileOpen: false\n        });\n      }\n    };\n\n    _this.updateUserInfo = _this.updateUserInfo.bind(_assertThisInitialized(_this));\n    _this.sendAdnetworkData = _this.sendAdnetworkData.bind(_assertThisInitialized(_this));\n    _this.saveDataToLocalStorage = _this.saveDataToLocalStorage.bind(_assertThisInitialized(_this));\n\n    var _userDetail = JSON.parse(localStorage.getItem(\"userDetail\"));\n\n    var _profileImage = DEFAULT_PROFILE_IMG;\n\n    if (_userDetail && _userDetail.imageRef) {\n      _profileImage = _userDetail.imageRef;\n    }\n\n    var tokenTimeStamp = localStorage.getItem(\"tokenTimeStamp\");\n    var dateTimeVal = new Date(+tokenTimeStamp);\n    var validDateBoolean = moment(dateTimeVal);\n\n    if (!validDateBoolean.isValid()) {\n      userService.logout();\n    }\n\n    var _username = _userDetail && _userDetail.firstName ? \"\".concat(_userDetail.firstName, \" \").concat(_userDetail.lastName) : NO_USERNAME;\n\n    _this.state = {\n      userDetail: {\n        profileImage: _profileImage,\n        username: _username\n      },\n      localStorageData: {},\n      hasError: \"\",\n      error: \"\",\n      errorInfo: \"\",\n      time: {},\n      seconds: 1500,\n      tokenTimeStamp: tokenTimeStamp\n    };\n    _this.timer = 0;\n    _this.startTimer = _this.startTimer.bind(_assertThisInitialized(_this));\n    _this.countDown = _this.countDown.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Dashboard, [{\n    key: \"secondsToTime\",\n    value: function secondsToTime(secs) {\n      var hours = Math.floor(secs / (60 * 60));\n      var divisor_for_minutes = secs % (60 * 60);\n      var minutes = Math.floor(divisor_for_minutes / 60);\n      var divisor_for_seconds = divisor_for_minutes % 60;\n      var seconds = Math.ceil(divisor_for_seconds);\n      var obj = {\n        \"h\": hours,\n        \"m\": minutes,\n        \"s\": seconds\n      };\n      return obj;\n    }\n  }, {\n    key: \"getRoute\",\n    value: function getRoute() {\n      return window.location.pathname !== \"/admin/maps\";\n    }\n  }, {\n    key: \"startTimer\",\n    value: function startTimer() {\n      if (this.timer == 0 && this.state.seconds > 0) {\n        this.timer = setInterval(this.countDown, 1000);\n      }\n\n      console.log(this.state.time, this.state.seconds);\n    }\n  }, {\n    key: \"countDown\",\n    value: function countDown() {\n      // Remove one second, set state so a re-render happens.\n      var seconds = this.state.seconds - 1;\n      this.setState({\n        time: this.secondsToTime(seconds),\n        seconds: seconds\n      }); // Check if we're at zero.\n\n      var currentTimeStamp = new Date().getTime(); // console.log(currentTimeStamp - this.state.tokenTimeStamp);\n\n      if (currentTimeStamp - this.state.tokenTimeStamp > 1700000) {\n        // console.log(\"TokenExpired...\");\n        // userService.logout();\n        clearInterval(this.timer); // window.location.reload(true);\n      }\n\n      if (seconds == 0) {\n        clearInterval(this.timer);\n      } // console.log(this.state.time, this.state.seconds);\n\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // if (navigator.platform.indexOf(\"Win\") > -1) {\n      //   ps = new PerfectScrollbar(this.mainPanel.current);\n      // }\n      window.addEventListener(\"resize\", this.resizeFunction);\n      var timeLeftVar = this.secondsToTime(this.state.seconds);\n      this.setState({\n        time: timeLeftVar\n      });\n      this.startTimer();\n    }\n  }, {\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, errorInfo) {\n      this._isMounted && this.setState({\n        hasError: true,\n        error: error,\n        errorInfo: errorInfo\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(e) {\n      if (e.history.location.pathname !== e.location.pathname) {\n        if (this.mainPanel && this.mainPanel.current) {\n          this.mainPanel.current.scrollTop = 0;\n        }\n\n        if (this.state.mobileOpen) {\n          this._isMounted && this.setState({\n            mobileOpen: false\n          });\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false; // if (navigator.platform.indexOf(\"Win\") > -1) {\n      //   ps.destroy();\n      // }\n\n      window.removeEventListener(\"resize\", this.resizeFunction);\n      Object.getPrototypeOf(this).constructor.STATE = this.state;\n    } // shouldComponentUpdate(nextProps, nextState){\n    //   return true;\n    // }\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          match = _this$props.match,\n          rest = _objectWithoutProperties(_this$props, _excluded);\n\n      var _this$state = this.state,\n          mobileOpen = _this$state.mobileOpen,\n          color = _this$state.color,\n          userDetail = _this$state.userDetail,\n          hasError = _this$state.hasError,\n          localStorageData = _this$state.localStorageData,\n          selectedAdnetwork = _this$state.selectedAdnetwork;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.wrapper + \" here Dashboard-wrapper-1\",\n        style: {\n          backgroundColor: \"rgb(239, 235, 235)\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"display-none storage-observation\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 9\n        }\n      }, \"no change\"), /*#__PURE__*/React.createElement(Sidebar, Object.assign({\n        routes: routes,\n        logoText: projectAssets.brandShortName,\n        logo: projectAssets.logo,\n        style: {\n          backgroundColor: \"#2d4e80\"\n        },\n        image: projectAssets.blur_image,\n        handleDrawerToggle: this.handleDrawerToggle,\n        open: mobileOpen,\n        color: color,\n        updateUserInfo: this.updateUserInfo,\n        saveDataToLocalStorage: this.saveDataToLocalStorage,\n        localStorageData: localStorageData,\n        userDetail: userDetail,\n        selectedAdnetwork: selectedAdnetwork,\n        sendAdnetworkData: this.sendAdnetworkData\n      }, rest, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 9\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.mainPanel,\n        ref: this.mainPanel,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Navbar, Object.assign({\n        routes: routes,\n        handleDrawerToggle: this.handleDrawerToggle,\n        updateUserInfo: this.updateUserInfo,\n        userDetail: userDetail,\n        sendAdnetworkData: this.sendAdnetworkData\n      }, rest, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }\n      })), this.getRoute() && !hasError ? /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.content,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 15\n        }\n      }, \" \",\n      /*#__PURE__*/\n\n      /* updateUserInfo={this.updateUserInfo} */\n      // switchRoutes\n      React.createElement(Switch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 19\n        }\n      }, routes.map(function (prop, key) {\n        return /*#__PURE__*/React.createElement(Route, {\n          path: prop.basePath\n          /* + prop.layout  */\n          + prop.path,\n          key: key,\n          render: function render(props) {\n            return /*#__PURE__*/React.createElement(prop.component, Object.assign({}, props, {\n              updateUserInfo: _this2.updateUserInfo,\n              key: _this2.props.location.key,\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 29\n              }\n            }));\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 25\n          }\n        });\n      }), /*#__PURE__*/React.createElement(Redirect, {\n        from: \"/admin\",\n        to: \"/admin/dashboard\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 22\n        }\n      })))) : \"Error During\" // <div className={classes.map}>{switchRoutes}</div>\n      ));\n    }\n  }]);\n\n  return Dashboard;\n}(React.Component);\n\nDashboard.propTypes = {\n  classes: PropTypes.object.isRequired,\n  userDetail: PropTypes.object\n};\nexport default withStyles(dashboardStyle)(Dashboard);","map":{"version":3,"sources":["/var/www/html/reactjs/ManagerWork/src/layouts/Admin.jsx"],"names":["React","PropTypes","Switch","Route","Redirect","PerfectScrollbar","withStyles","Navbar","Sidebar","routes","projectAssets","dashboardStyle","DEFAULT_PROFILE_IMG","NO_USERNAME","ReactNotification","userService","moment","Dashboard","props","state","image","blur_image","color","hasImage","fixedClasses","mobileOpen","loggedIn","adminRoutes","saveDataToLocalStorage","storageName","updateUserInfo","userDetail","username","profileImage","JSON","parse","localStorage","getItem","firstName","lastName","imageRef","setState","sendAdnetworkData","selectedAdnetwork","console","log","mainPanel","createRef","handleImageClick","_isMounted","handleColorClick","handleFixedClick","handleDrawerToggle","resizeFunction","window","innerWidth","bind","tokenTimeStamp","dateTimeVal","Date","validDateBoolean","isValid","logout","localStorageData","hasError","error","errorInfo","time","seconds","timer","startTimer","countDown","secs","hours","Math","floor","divisor_for_minutes","minutes","divisor_for_seconds","ceil","obj","location","pathname","setInterval","secondsToTime","currentTimeStamp","getTime","clearInterval","addEventListener","timeLeftVar","e","history","current","scrollTop","removeEventListener","Object","getPrototypeOf","constructor","STATE","classes","match","rest","wrapper","backgroundColor","brandShortName","logo","getRoute","content","container","map","prop","key","basePath","path","Component","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["/*!\n\n=========================================================\n* Material Dashboard React - v1.7.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/material-dashboard-react\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\n* Licensed under MIT (https://github.com/creativetimofficial/material-dashboard-react/blob/master/LICENSE.md)\n\n* Coded by Creative Tim\n\n=========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n*/\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\n// creates a beautiful scrollbar\nimport PerfectScrollbar from \"perfect-scrollbar\";\nimport \"perfect-scrollbar/css/perfect-scrollbar.css\";\n// @material-ui/core components\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n// core components\nimport Navbar from \"components/Navbars/Navbar.jsx\";\n\nimport Sidebar from \"components/Sidebar/Sidebar.jsx\";\n\nimport routes from \"admin-routes.js\";\nimport { projectAssets } from \"base-routes.js\";\n\nimport dashboardStyle from \"assets/jss/material-dashboard-react/layouts/dashboardStyle.jsx\";\n\nimport { DEFAULT_PROFILE_IMG, NO_USERNAME } from \"__helpers/constants\";\nimport \"react-notifications-component/dist/theme.css\";\nimport ReactNotification from \"react-notifications-component\";\nimport { userService } from \"_services/user.service\";\nimport moment from \"moment\";\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.updateUserInfo = this.updateUserInfo.bind(this);\n    this.sendAdnetworkData = this.sendAdnetworkData.bind(this);\n    this.saveDataToLocalStorage = this.saveDataToLocalStorage.bind(this);\n\n    let userDetail = JSON.parse(localStorage.getItem(\"userDetail\"));\n    let profileImage = DEFAULT_PROFILE_IMG;\n    if (userDetail && userDetail.imageRef) {\n      profileImage = userDetail.imageRef;\n    }\n    let tokenTimeStamp = localStorage.getItem(\"tokenTimeStamp\");\n    var dateTimeVal = new Date(+tokenTimeStamp);\n    var validDateBoolean = moment(dateTimeVal);\n    if (!validDateBoolean.isValid()) {\n      userService.logout();\n    }\n    let username =\n      userDetail && userDetail.firstName\n        ? `${userDetail.firstName} ${userDetail.lastName}`\n        : NO_USERNAME;\n\n    this.state = {\n      userDetail: {\n        profileImage: profileImage,\n        username: username\n      },\n      localStorageData: {},\n      hasError: \"\",\n      error: \"\",\n      errorInfo: \"\",\n      time: {},\n      seconds: 1500,\n      tokenTimeStamp: tokenTimeStamp,\n    };\n\n    this.timer = 0;\n    this.startTimer = this.startTimer.bind(this);\n    this.countDown = this.countDown.bind(this);\n  }\n  state = {\n    image: projectAssets.blur_image,\n    color: \"blue\",\n    hasImage: true,\n    fixedClasses: \"dropdown show\",\n    mobileOpen: false,\n    loggedIn: false\n  };\n\n  adminRoutes = {};\n  secondsToTime(secs) {\n    let hours = Math.floor(secs / (60 * 60));\n\n    let divisor_for_minutes = secs % (60 * 60);\n    let minutes = Math.floor(divisor_for_minutes / 60);\n\n    let divisor_for_seconds = divisor_for_minutes % 60;\n    let seconds = Math.ceil(divisor_for_seconds);\n\n    let obj = {\n      \"h\": hours,\n      \"m\": minutes,\n      \"s\": seconds\n    };\n    return obj;\n  }\n  saveDataToLocalStorage = storageName => {\n  };\n  updateUserInfo = userDetail => {\n    let username = NO_USERNAME;\n    let profileImage = DEFAULT_PROFILE_IMG;\n    if (!userDetail) {\n      const userDetail = JSON.parse(localStorage.getItem(\"userDetail\"));\n      username =\n        userDetail && userDetail.firstName\n          ? `${userDetail.firstName} ${userDetail.lastName}`\n          : NO_USERNAME;\n      if (userDetail.imageRef) {\n        profileImage = userDetail.imageRef;\n      }\n    } else {\n      if (userDetail && userDetail.profileImage) {\n        profileImage = userDetail.profileImage;\n      }\n\n      username =\n        userDetail && userDetail.firstName\n          ? `${userDetail.firstName} ${userDetail.lastName}`\n          : NO_USERNAME;\n    }\n    // this.setState({\n    //   profileImage: userDetail.imageRef\n    // });\n    // console.log(userDetail);\n    this.setState({\n      userDetail: {\n        profileImage: profileImage,\n        username: username\n      }\n    });\n  };\n  sendAdnetworkData = selectedAdnetwork => {\n    console.log(selectedAdnetwork);\n  }\n\n  mainPanel = React.createRef();\n  handleImageClick = image => {\n    this._isMounted && this.setState({ image: image });\n  };\n  handleColorClick = color => {\n    this.setState({ color: color });\n  };\n  handleFixedClick = () => {\n    if (this.state.fixedClasses === \"dropdown\") {\n      this._isMounted && this.setState({ fixedClasses: \"dropdown show\" });\n    } else {\n      this._isMounted && this.setState({ fixedClasses: \"dropdown\" });\n    }\n  };\n  handleDrawerToggle = () => {\n    this.setState({ mobileOpen: !this.state.mobileOpen });\n  };\n  getRoute() {\n    return window.location.pathname !== \"/admin/maps\";\n  }\n  resizeFunction = () => {\n    if (window.innerWidth >= 960) {\n      this.setState({ mobileOpen: false });\n    }\n  };\n  startTimer() {\n    if (this.timer == 0 && this.state.seconds > 0) {\n      this.timer = setInterval(this.countDown, 1000);\n    }\n    console.log(this.state.time, this.state.seconds);\n  }\n  countDown() {\n    // Remove one second, set state so a re-render happens.\n    let seconds = this.state.seconds - 1;\n    this.setState({\n      time: this.secondsToTime(seconds),\n      seconds: seconds,\n    });\n    // Check if we're at zero.\n    let currentTimeStamp = new Date().getTime();\n    // console.log(currentTimeStamp - this.state.tokenTimeStamp);\n    if ((currentTimeStamp - this.state.tokenTimeStamp) > 1700000) {\n      // console.log(\"TokenExpired...\");\n      // userService.logout();\n      clearInterval(this.timer);\n      // window.location.reload(true);\n    }\n    if (seconds == 0) {\n      clearInterval(this.timer);\n    }\n    // console.log(this.state.time, this.state.seconds);\n  }\n  componentDidMount() {\n    // if (navigator.platform.indexOf(\"Win\") > -1) {\n    //   ps = new PerfectScrollbar(this.mainPanel.current);\n    // }\n    window.addEventListener(\"resize\", this.resizeFunction);\n    let timeLeftVar = this.secondsToTime(this.state.seconds);\n    this.setState({ time: timeLeftVar });\n    this.startTimer();\n  }\n\n  componentDidCatch(error, errorInfo) {\n    this._isMounted && this.setState({\n      hasError: true,\n      error: error,\n      errorInfo: errorInfo\n    });\n  }\n\n  componentDidUpdate(e) {\n    if (e.history.location.pathname !== e.location.pathname) {\n      if (this.mainPanel && this.mainPanel.current) {\n        this.mainPanel.current.scrollTop = 0;\n      }\n      if (this.state.mobileOpen) {\n        this._isMounted && this.setState({ mobileOpen: false });\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n    // if (navigator.platform.indexOf(\"Win\") > -1) {\n    //   ps.destroy();\n    // }\n    window.removeEventListener(\"resize\", this.resizeFunction);\n    Object.getPrototypeOf(this).constructor.STATE = this.state;\n  }\n  // shouldComponentUpdate(nextProps, nextState){\n\n  //   return true;\n  // }\n  render() {\n    const { classes, match, ...rest } = this.props;\n    const {\n      mobileOpen,\n      color,\n      userDetail,\n      hasError,\n      localStorageData,\n      selectedAdnetwork\n    } = this.state;\n    return (\n      <div\n        className={classes.wrapper + \" here Dashboard-wrapper-1\"}\n        style={{ backgroundColor: \"rgb(239, 235, 235)\" }}\n      >\n        <div className=\"display-none storage-observation\">no change</div>\n        {/* <ReactNotification /> */}\n        <Sidebar\n          routes={routes}\n          logoText={projectAssets.brandShortName}\n          logo={projectAssets.logo}\n          style={{ backgroundColor: \"#2d4e80\" }}\n          image={projectAssets.blur_image}\n          handleDrawerToggle={this.handleDrawerToggle}\n          open={mobileOpen}\n          color={color}\n          updateUserInfo={this.updateUserInfo}\n          saveDataToLocalStorage={this.saveDataToLocalStorage}\n          localStorageData={localStorageData}\n          userDetail={userDetail}\n          selectedAdnetwork={selectedAdnetwork}\n          sendAdnetworkData={this.sendAdnetworkData}\n          {...rest}\n        />\n        <div className={classes.mainPanel} ref={this.mainPanel}>\n          <Navbar\n            routes={routes}\n            handleDrawerToggle={this.handleDrawerToggle}\n            updateUserInfo={this.updateUserInfo}\n            userDetail={userDetail}\n            sendAdnetworkData={this.sendAdnetworkData}\n            {...rest}\n          />\n          {/* On the /maps route we want the map to be on full screen - this is not possible if the content and conatiner classes are present because they have some paddings which would make the map smaller */}\n          {this.getRoute() && !hasError ? (\n            <div className={classes.content}>\n              <div className={classes.container}>\n                {\" \"}\n                {\n                  /* updateUserInfo={this.updateUserInfo} */\n                  // switchRoutes\n                  <Switch>\n                    {routes.map((prop, key) => {\n                      return (\n                        <Route\n                          path={prop.basePath /* + prop.layout  */ + prop.path}\n                          key={key}\n                          render={props => (\n                            <prop.component\n                              {...props}\n                              updateUserInfo={this.updateUserInfo}\n                              key={this.props.location.key}\n                            />\n                          )}\n                        ></Route>\n                      );\n                    })}\n                    {<Redirect from=\"/admin\" to=\"/admin/dashboard\" />}\n                  </Switch>\n                }\n              </div>\n            </div>\n          ) : (\n              \"Error During\" // <div className={classes.map}>{switchRoutes}</div>\n            )}\n        </div>\n      </div>\n    );\n  }\n}\n\nDashboard.propTypes = {\n  classes: PropTypes.object.isRequired,\n  userDetail: PropTypes.object\n};\n\nexport default withStyles(dashboardStyle)(Dashboard);\n"]},"metadata":{},"sourceType":"module"}